$(document).ready(function(){var t=$("#back-to-top"),e=$("footer.footer"),n=$(".column-main"),i=$(".column-left"),a=$(".column-right"),s=0,o=20,r=20,l=null,c={base:{classname:"card has-text-centered",left:"",width:64,bottom:r,"border-radius":4}};function d(e){if(null===l||!function(t,e){for(var n in t)if(!e.hasOwnProperty(n)||e[n]!==t[n])return!1;for(var n in e)if(!t.hasOwnProperty(n)||t[n]!=t[n])return!1;return!0}(l,e)){t.attr("class",e.classname);for(let n in e)"classname"!==n&&t.css(n,e[n]);l=e}}function f(){return window.innerWidth>=1078}function u(){return a.length>0}function h(){return $(window).scrollTop()+$(window).height()}function p(){return t.outerHeight(!0)}function g(){if(f()||window.innerWidth>=768&&!f()&&!(i.length>0)&&u()){var l,g=(n.outerWidth()-n.width())/2,m=$(window).width()-t.outerWidth(!0)-o,v=e.offset().top+p()/2+r;l=0==$(window).scrollTop()||h()<(u()?Math.max.apply(null,a.find(".widget").map(function(){return $(this).offset().top+$(this).outerHeight(!0)})):0)+g+p()?c["desktop-hidden"]:h()<v?c["desktop-visible"]:Object.assign({},c["desktop-dock"],{bottom:h()-v+r});var b=n.offset().left+n.outerWidth()+g;d(l=Object.assign({},l,{left:Math.min(b,m)}))}else $(window).scrollTop()<s&&$(window).scrollTop()>0?d(c["mobile-visible"]):d(c["mobile-hidden"]),s=$(window).scrollTop()}c["desktop-hidden"]=Object.assign({},c.base,{classname:c.base.classname+" rise-up"}),c["desktop-visible"]=Object.assign({},c["desktop-hidden"],{classname:c["desktop-hidden"].classname+" fade-in"}),c["desktop-dock"]=Object.assign({},c["desktop-visible"],{classname:c["desktop-visible"].classname+" fade-in",width:40,"border-radius":"50%"}),c["mobile-hidden"]=Object.assign({},c.base,{classname:c.base.classname+" fade-in",right:o}),c["mobile-visible"]=Object.assign({},c["mobile-hidden"],{classname:c["mobile-hidden"].classname+" rise-up"}),g(),$(window).resize(g),$(window).scroll(g),$("#back-to-top").on("click",function(){$("body, html").animate({scrollTop:0},400)})}),document.addEventListener("DOMContentLoaded",function(){"function"==typeof $.fn.lightGallery&&$(".article").lightGallery({selector:".gallery-item"}),"function"==typeof $.fn.justifiedGallery&&($(".justified-gallery > p > .gallery-item").length&&$(".justified-gallery > p > .gallery-item").unwrap(),$(".justified-gallery").justifiedGallery())}),function(t,e){var n=t(".ins-search"),i=n.find(".ins-search-input"),a=n.find(".ins-section-wrapper"),s=n.find(".ins-section-container");function o(n,i,a,s,o){return t("<div>").addClass("ins-selectable").addClass("ins-search-item").append(t("<header>").append(t("<i>").addClass("fa").addClass("fa-"+n)).append(t("<span>").addClass("ins-title").text(null!=i&&""!==i?i:e.TRANSLATION.UNTITLED)).append(a?t("<span>").addClass("ins-slug").text(a):null)).append(s?t("<p>").addClass("ins-search-preview").text(s):null).attr("data-url",o)}function r(n,i){var a,s,r;if(0===i.length)return null;switch(a=e.TRANSLATION[n],n){case"POSTS":case"PAGES":s=i.map(function(t){return o("file",t.title,null,t.text.slice(0,150),t.link)});break;case"CATEGORIES":case"TAGS":s=i.map(function(t){return o("CATEGORIES"===n?"folder":"tag",t.name,t.slug,null,t.link)});break;default:return null}return(r=a,t("<section>").addClass("ins-section").append(t("<header>").addClass("ins-section-header").text(r))).append(s)}function l(t){return t.split(" ").filter(function(t){return!!t}).map(function(t){return t.toUpperCase()})}function c(t,e,n){var i=l(t);return i.filter(function(t){return n.filter(function(n){return!!e.hasOwnProperty(n)&&(e[n].toUpperCase().indexOf(t)>-1||void 0)}).length>0}).length===i.length}function d(t,e,n,i){var a=0;return l(t).forEach(function(t){var s=new RegExp(t,"img");n.forEach(function(t,n){if(e.hasOwnProperty(t)){var o=e[t].match(s);a+=o?o.length*i[n]:0}})}),a}function f(t,e){var n=function(t){return{POST:function(e){return d(t,e,["title","text"],[3,1])},PAGE:function(e){return d(t,e,["title","text"],[3,1])},CATEGORY:function(e){return d(t,e,["name","slug"],[1,1])},TAG:function(e){return d(t,e,["name","slug"],[1,1])}}}(e),i=function(t){return{POST:function(e){return c(t,e,["title","text"])},PAGE:function(e){return c(t,e,["title","text"])},CATEGORY:function(e){return c(t,e,["name","slug"])},TAG:function(e){return c(t,e,["name","slug"])}}}(e),a=t.posts,s=t.pages,o=t.tags,r=t.categories;return{posts:a.filter(i.POST).sort(function(t,e){return n.POST(e)-n.POST(t)}).slice(0,5),pages:s.filter(i.PAGE).sort(function(t,e){return n.PAGE(e)-n.PAGE(t)}).slice(0,5),categories:r.filter(i.CATEGORY).sort(function(t,e){return n.CATEGORY(e)-n.CATEGORY(t)}).slice(0,5),tags:o.filter(i.TAG).sort(function(t,e){return n.TAG(e)-n.TAG(t)}).slice(0,5)}}function u(e){var n=t.makeArray(s.find(".ins-selectable")),i=-1;n.forEach(function(e,n){t(e).hasClass("active")&&(i=n)});var o=(n.length+i+e)%n.length;t(n[i]).removeClass("active"),t(n[o]).addClass("active"),function(t){if(0!==t.length){var e=a[0].clientHeight,n=t.position().top-a.scrollTop(),i=t[0].clientHeight+t.position().top;i>e+a.scrollTop()&&a.scrollTop(i-a[0].clientHeight),n<0&&a.scrollTop(t.position().top)}}(t(n[o]))}function h(t){t&&t.length&&(location.href=t.attr("data-url"))}n.parent().remove(".ins-search"),t("body").append(n),t.getJSON(e.CONTENT_URL,function(e){"#ins-search"===location.hash.trim()&&n.addClass("show"),i.on("input",function(){var n=t(this).val();!function(t){for(var e in s.empty(),t)s.append(r(e.toUpperCase(),t[e]))}(f(e,n))}),i.trigger("input")});var p=!1;t(document).on("click focus",".navbar-main .search",function(){n.addClass("show"),n.find(".ins-search-input").focus()}).on("click touchend",".ins-search-item",function(e){("click"===e.type||p)&&(h(t(this)),p=!1)}).on("click touchend",".ins-close",function(e){("click"===e.type||p)&&(t(".navbar-main").css("pointer-events","none"),setTimeout(function(){t(".navbar-main").css("pointer-events","auto")},400),n.removeClass("show"),p=!1)}).on("keydown",function(t){if(n.hasClass("show"))switch(t.keyCode){case 27:n.removeClass("show");break;case 38:u(-1);break;case 40:u(1);break;case 13:h(s.find(".ins-selectable.active").eq(0))}}).on("touchstart",function(t){p=!0}).on("touchmove",function(t){p=!1})}(jQuery,window.INSIGHT_CONFIG),function(t){function e(){const e=t(".navbar-main .navbar-start").outerWidth()+t(".navbar-main .navbar-end").outerWidth();t(document).outerWidth()<e?t(".navbar-main .navbar-menu").addClass("is-flex-start"):t(".navbar-main .navbar-menu").removeClass("is-flex-start")}if(t('.article img:not(".not-gallery-item")').each(function(){0===t(this).parent("a").length&&(t(this).wrap('<a class="gallery-item" href="'+t(this).attr("src")+'"></a>'),this.alt&&t(this).after('<div class="has-text-centered is-size-6 has-text-grey caption">'+this.alt+"</div>"))}),"function"==typeof moment&&t(".article-meta time").each(function(){t(this).text(moment(t(this).attr("datetime")).fromNow())}),t(".article > .content > table").each(function(){t(this).width()>t(this).parent().width()&&t(this).wrap('<div class="table-overflow"></div>')}),e(),t(window).resize(e),t("figure.highlight table").wrap('<div class="highlight-body">'),"undefined"!=typeof IcarusThemeSettings&&void 0!==IcarusThemeSettings.article&&void 0!==IcarusThemeSettings.article.highlight){"undefined"!=typeof ClipboardJS&&IcarusThemeSettings.article.highlight.clipboard&&(t("figure.highlight").each(function(){var e="code-"+Date.now()+(1e3*Math.random()|0),n='<a href="javascript:;" class="copy" title="Copy" data-clipboard-target="#'+e+' .code"><i class="fas fa-copy"></i></a>';t(this).attr("id",e),t(this).find("figcaption").length?t(this).find("figcaption").prepend(n):t(this).prepend("<figcaption>"+n+"</figcaption>")}),new ClipboardJS(".highlight .copy"));var n=IcarusThemeSettings.article.highlight.fold;if(n.trim()){var i='<span class="fold">'+("unfolded"===n?'<i class="fas fa-angle-down"></i>':'<i class="fas fa-angle-right"></i>')+"</span>";function a(e,n){var i=t(e).find(".fold i");n?t(e).addClass("folded"):t(e).removeClass("folded"),n?i.removeClass("fa-angle-down"):i.removeClass("fa-angle-right"),n?i.addClass("fa-angle-right"):i.addClass("fa-angle-down")}t("figure.highlight").each(function(){t(this).find("figcaption").length?t(this).find("figcaption").prepend(i):t(this).prepend("<figcaption>"+i+"</figcaption>")}),t("figure.highlight").each(function(){a(this,"folded"===n)}),t("figure.highlight figcaption .fold").click(function(){var e=t(this).closest("figure.highlight");a(e.eq(0),!e.hasClass("folded"))})}}var s=t("#toc");if(s.length>0){var o=t("<div>");function r(){s.toggleClass("is-active"),o.toggleClass("is-active")}o.attr("id","toc-mask"),t("body").append(o),s.on("click",r),o.on("click",r),t(".navbar-main .catalogue").on("click",r)}}(jQuery);